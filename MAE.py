# Add MAE values to the DataFrame
data["MAE"] = [
    # FedAvg
    0.566740872367456, 1.338448412314818, 0.8765538804685461, 1.259296837241866,
    0.3209831835018226, 0.34353659394487285, 0.7154146441427431, 0.6384667715858073,
    0.21350571717995423, 0.37584761969432484, 0.23224649401013242, 0.22883884890549794,
    0.1656627889218897,
    # FedProx
    0.5420267859772, 0.5259642544791592, 0.2200480654607477, 0.11463258181013611,
    0.232906051291737, 0.17403900582239848, 0.13960499985368097, 0.12403551772245584,
    0.117832360393704, 0.11237007258249507, 0.31201776171198775, 0.5048015127641342,
    0.09822840560484973,
    # FedDyn
    0.8006551868573234, 1.5153035566527158, 0.9903962618962332, 1.335619970863823,
    0.540927831667378, 0.3734436253371937, 0.21124644686897637, 0.238989564686578,
    0.15663718784952516, 0.2467132505062597, 0.14474126264555387, 0.2266428314131767,
    0.3946967721666253,
    # SCAFFOLD
    0.8845222291805187, 1.0166508583661338, 0.4822426568206578, 0.5518165560032071,
    0.8054126893115117, 0.6026899097242142, 1.1029279935847487, 0.5337159028979569,
    0.5281862588192167, 0.4041058231606771, 0.9106603735395432, 0.49671552948628245,
    0.8527836372899305,
    # MOON
    0.3199456181616178, 1.2846836177681924, 0.9607272764132251, 1.386535127862752,
    0.561063996527394, 0.3973150820582992, 0.2029197983147314, 0.2331016147504161,
    0.16158602872626252, 0.175573059237272, 0.12510387064577463, 0.1251421698181993,
    0.225337255000362,
]

df["MAE"] = data["MAE"]

plt.figure(figsize=(8, 5))
for method, grp in df.groupby("Method"):
    plt.plot(grp["Round"], grp["MAE"], marker='o', label=method)
plt.xlabel("Round")
plt.ylabel("MAE")
plt.title("MAE over Rounds for Each Method")
plt.legend()
plt.tight_layout()
plt.show()
