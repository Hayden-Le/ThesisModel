# Add R2 values to the DataFrame
data["R2"] = [
    # FedAvg
    -14.14420471993525, -49.419380844641346, -23.87034133573055, -43.4905215655118,
    -4.263437299289862, -3.1186473426008305, -14.288479956478175, -10.778055912640372,
    -1.0402339288327327, -3.4729476328506426, -0.9851620463168009, -1.0942964430541364,
    -0.04755252867217319,
    # FedProx
    -8.295350706405207, -7.063343742436237, -1.0224341746664347, 0.3095478251720015,
    -1.181909226757098, -0.275760454798162, 0.22598970757139003, 0.39602112471619266,
    0.4819868014302462, 0.5311326610297906, -2.3155175221746993, -6.385759882504066,
    0.6094009135957226,
    # FedDyn
    -22.23115357113385, -62.97549702188821, -30.084918393254192, -48.86145907403478,
    -9.909263695233296, -3.815492855155422, -1.204500793083533, -1.0565891595589152,
    -0.0656014252439936, -1.2521945547979607, 0.1555131648457141, -0.8626071143845075,
    -3.7401168998914773,
    # SCAFFOLD
    -22.994872166488136, -28.786112132868247, -6.933526016252949, -8.85993241578936,
    -17.293190669658227, -10.581645032259978, -33.22331071408758, -8.63671570023557,
    -8.120918584655865, -4.597883283495848, -22.275279728933015, -7.313293883804921,
    -20.432504312496636,
    # MOON
    -5.690978134167858, -45.611353752423774, -28.773693525089453, -52.794826925016494,
    -11.047228562359237, -4.389201770849348, -1.1153048287671008, -0.9408835020980737,
    -0.056849987195559226, -0.18668700427903473, 0.37906546571090083, 0.39181392979973084,
    -1.0528898110407048,
]

df["R2"] = data["R2"]

plt.figure(figsize=(8, 5))
for method, grp in df.groupby("Method"):
    plt.plot(grp["Round"], grp["R2"], marker='o', label=method)
plt.xlabel("Round")
plt.ylabel("R2")
plt.title("R2 over Rounds for Each Method")
plt.legend()
plt.tight_layout()
plt.show()
